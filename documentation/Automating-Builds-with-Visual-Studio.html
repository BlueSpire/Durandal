<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta name="format-detection" content="telephone=no"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>Docs - Automating Builds with Visual Studio | Durandal</title>
		<meta name="description" content="Durandal is a cross-device, cross-platform client framework written in JavaScript and designed to make Single Page Applications (SPAs) easy to create and maintain." />
		<meta name="keywords" content="Durandal, SPA, HTML5, CSS, JavaScript, Singe Page Application, Knockout, RequireJS" />
		<meta name="author" content="EisenbergEffect" />

		<meta name="generator" content="DocPad v6.60.3" />

		<link rel="apple-touch-startup-image" href="images/ios-startup-image-landscape.png" media="(orientation:landscape)" />
		<link rel="apple-touch-startup-image" href="images/ios-startup-image-portrait.png" media="(orientation:portrait)" />
		<link rel="apple-touch-icon" href="images/icon.png"/>

		<!-- Shims: IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script async src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<!-- Styles -->
		<link  rel="stylesheet" href="/vendor/twitter-bootstrap/css/bootstrap.css" /><link  rel="stylesheet" href="/vendor/prettify.css" /><link  rel="stylesheet" href="/styles/style.css" />

		<script type="text/javascript">
		    if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
		        var msViewportStyle = document.createElement("style");
		        var mq = "@@-ms-viewport{width:auto!important}";
		        msViewportStyle.appendChild(document.createTextNode(mq));
		        document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
		    }
		</script>
		<script type="text/javascript" src="//use.typekit.net/kan0fyh.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	</head>
	<body>
		<nav class="navbar navbar-inverse navbar-fixed-top clearfix">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">&nbsp;&nbsp;Durandal</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          
						<li typeof="sioc:Page" about="/get-started.html" class="">
							<a href="/get-started.html" property="dc:title">Get Started</a>
						</li>
					
						<li typeof="sioc:Page" about="/downloads.html" class="">
							<a href="/downloads.html" property="dc:title">Downloads</a>
						</li>
					
						<li typeof="sioc:Page" about="/docs.html" class="">
							<a href="/docs.html" property="dc:title">Docs</a>
						</li>
					
        </ul>
				<ul class="nav navbar-nav navbar-right">
					<li>
						<a href="https://bluespire.zendesk.com" class="support">Login</a>
					</li>
				</ul>
      </div><!--/.nav-collapse -->
    </nav>

		<section class="container content docs">
  <h1 id="automating-builds-with-visual-studio">Automating Builds with Visual Studio</h1>
<h4 id="-"> </h4>
<p>It is a recommened practice to optimize your application for deploy. If you are working in an environment based on MSBuild or using Visual Studio in your day to day development and testing, then you may wish to automate this process. Below you will find some simple instructions explaining how to do this.</p>
<h4 id="install-dependencies">Install Dependencies</h4>
<ol>
<li>Install NodeJS from <a href="http://nodejs.org">http://nodejs.org</a></li>
<li>Install a build tool such as Gulp or Grunt via NPM</li>
</ol>
<h4 id="add-a-config-file">Add A Config File</h4>
<p>At the project root create your build config file, per the instructions from your chosen build tool.</p>
<h4 id="add-the-post-build-event">Add the Post Build Event</h4>
<p>Go to the project&#39;s properties and select <code>Build Events</code>. In the post build event add the following (note that this example uses a hypothetical gulp build):</p>
<pre class="prettyprint linenums">cd $(ProjectDir)
gulp build</pre>
<p>If you ony want to build when the Release configuration is selected, use the following:</p>
<pre class="prettyprint linenums">if &#39;$(Configuration)&#39;==&#39;Release&#39; (
    cd $(ProjectDir)
    gulp build
)</pre>
<p>Build your project. You should see the build output in the Output window.</p>
<h4 id="include-generated-files">Include Generated Files</h4>
<p>In the solution explorer, select &quot;Show All Files&quot;. Under the App folder, locate <em>main-built.js</em>.
Right click and select &#39;Include in Project&#39;.</p>
<h4 id="auto-load-debug-vs-release">Auto-Load Debug vs. Release</h4>
<p>Optionally, you can use the following code in your html page to automatically load the correct file (main.js vs. main-built.js).</p>
<pre class="prettyprint linenums">@if (HttpContext.Current.IsDebuggingEnabled) {
    &lt;script type=&quot;text/javascript&quot; src=&quot;~/Scripts/require.js&quot; data-main=&quot;@Url.Content(&quot;~/App/main&quot;)&quot;&gt;&lt;/script&gt;
}
else {
    &lt;script type=&quot;text/javascript&quot; src=&quot;~/App/main-built.js&quot;&gt;&lt;/script&gt;
}</pre>

</section>

		<footer class="footer">
		  <div class="container">
		    <p>Durandal is licensed under the <a href="https://raw.github.com/BlueSpire/Durandal/master/License.txt">MIT License</a>.</p>
		    <p>Lovingly created by <a href="http://twitter.com/eisenbergeffect" target="_blank">@eisenbergeffect</a> of <a href="http://www.bluespire.com/" target="_blank">Blue Spire</a>.</p>
		    <p>Site design crafted by <a href="https://twitter.com/@scriswell" target="_blank">@scriswell</a> of <a href="https://twitter.com/@The_UI_Guy" target="_blank">@The_UI_Guy</a> and <a href="https://twitter.com/hfjallemark" target="_blank">@hfjallemark</a>.</p>
		  </div>
		  <br />
		</footer>
		
		<script src="/vendor/jquery.js"></script>
		<script src="/vendor/twitter-bootstrap/js/bootstrap.min.js"></script>
		<script src="/vendor/modernizr.js"></script>
		<script src="/vendor/prettify.js"></script>
		<script src="/scripts/behavior.js"></script>

		

		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-38441871-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>
	</body>
</html>