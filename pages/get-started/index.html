<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
      <meta name="apple-mobile-web-app-capable" content="yes" />
      <meta name="apple-mobile-web-app-status-bar-style" content="black" />
      <meta name="format-detection" content="telephone=no"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>Get Started | Durandal</title>
        <meta name="description" content="Durandal is a cross-device, cross-platform client framework written in JavaScript and designed to make Single Page Applications (SPAs) easy to create and maintain." />
        <meta name="keywords" content="Durandal, SPA, HTML5, CSS, JavaScript, Singe Page Application, Sammy, Knockout, RequireJS" />
        <meta name="author" content="EisenbergEffect" />
        
        <meta http-equiv="X-Powered-By" content="DocPad"/>

      <link rel="apple-touch-startup-image" href="images/ios-startup-image-landscape.png" media="(orientation:landscape)" />
      <link rel="apple-touch-startup-image" href="images/ios-startup-image-portrait.png" media="(orientation:portrait)" />
      <link rel="apple-touch-icon" href="images/icon.png"/>

        <!-- Shims: IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script async src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <!-- Styles -->
        <link  rel="stylesheet" href="/vendor/twitter-bootstrap/css/bootstrap.css" /><link  rel="stylesheet" href="/vendor/twitter-bootstrap/css/bootstrap-responsive.css" /><link  rel="stylesheet" href="/vendor/prettify.css" /><link  rel="stylesheet" href="/styles/style.css" />

         <script type="text/javascript">
                if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
                    var msViewportStyle = document.createElement("style");
                    var mq = "@@-ms-viewport{width:auto!important}";
                    msViewportStyle.appendChild(document.createTextNode(mq));
                    document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
                }
          </script>

          <script type="text/javascript" src="//use.typekit.net/kan0fyh.js"></script>
          <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    </head>
    <body>
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
            <a class="brand" href="/">
                <span>&nbsp;&nbsp;Durandal</span>
            </a>
            <ul class="nav">
                        
                            <li typeof="sioc:Page" about="/pages/get-started" class="active">
                                <a href="/pages/get-started" property="dc:title">Get Started</a>
                            </li>
                        
                            <li typeof="sioc:Page" about="/pages/docs" class="">
                                <a href="/pages/docs" property="dc:title">Docs</a>
                            </li>
                        
                            <li typeof="sioc:Page" about="/pages/videos" class="">
                                <a href="/pages/videos" property="dc:title">Videos</a>
                            </li>
                        
                            <li typeof="sioc:Page" about="/pages/training" class="">
                                <a href="/pages/training" property="dc:title">Training</a>
                            </li>
                        
                            <li typeof="sioc:Page" about="/pages/support" class="">
                                <a href="/pages/support" property="dc:title">Support</a>
                            </li>
                        
                            <li typeof="sioc:Page" about="/pages/merchandise" class="">
                                <a href="/pages/merchandise" property="dc:title">Merchandise</a>
                            </li>
                        
                    </ul>

                    <ul class="nav pull-right">
                        <li>
                            <a href="https://bluespire.zendesk.com" class="support">Support Login</a>
                        </li>
                    </ul>
            </div>
        </div>

        <section class="container content">
  <h1>Getting Started</h1>
  <h2>Project setup, structural overview and brief explanation.</h2>

  <h3>Setup</h3>
  <p class="lead">Durandal works with any backend technology...or no backend technology. All you need to get going are the necessary script libraries, modules and folder structure. To get started, choose an option depending on which platform you are most comfortable with:</p>

  <h4>.NET</h4>
  <p>
  If you are coming from a .NET background or using Visual Studio, you've got two options. 
    <ol>
      <li>
      If you have VS2012 and <a href="http://go.microsoft.com/fwlink/?LinkId=282650">the 2012 web tools installed</a>, you can <a href="/version/latest/DurandalTemplate.vsix">grab the VSIX file</a> and install it. 
      Then, start Visual Studio and choose to create a new 'ASP.NET MVC 4 Web Application'. 
      After selecting MVC, you will have the option to choose which template you want. Choose 'Durandal SPA Template'.
      </li>
      <li>
      Durandal is also available through nuget. You can install the entire starter kit with the following command:
      <code>Install-Package Durandal.StarterKit</code>
      </li>
    </ol>
  </p>

  <h4>Node.js</h4>
  <p>
    For those comfortable with Node.js, we highly recommend using our Mimosa skeleton. Here's how Mimosa describes itself:
  </p>
  <p>
    <blockquote>A modern browser development toolkit. JavaScript, CSS, and template compilers, linting, optimization, serving, RequireJS support, and Live Reload built right in. Pluggable for authoring your own functionality.
    </blockquote>
  </p>
  <p>
    In short, it's an amazing development and build tool for JS applications. If you wish to use it with Durandal, these steps will get your system set up:
  </p>
  <ol>
    <li>Install Node.js</li>
    <li>From the command line execute: <code>npm install -g mimosa@0.9.0</code>
    </li>
    <li>Once mimosa is installed, execute: <code>mimosa mod:install mimosa-skeleton</code>
    </li>
    <li>After this is all set up, creating a new Durandal project is easy-peasy. From the command line execute:
      <code>mimosa skel:new durandal path/to/your/new/project/folder</code>
    </li>
  </ol>

  <h4>Anyone and Everyone</h4>
  <p>
  In the end, Durandal is just a collection of JavaScript libraries, so you don't need anything special to use it.
  Hop on over to our <a href="https://github.com/BlueSpire/Durandal">github repo</a> and fork away. You can just grab the contents of the <em>App</em> folder and use it to kickstart your own project.
  </p>
</section>

<section class="container">
  <h3>Overview and Explanation</h3>

  <p class="lead">The Durandal StarterKit sets up a basic navigation-style architecture for you along with a couple of basic screens. Adding your own screens is as simple as creating modules and views, putting them in the proper location and registering them with the router. Let's see how this application is put together...</p>

  <h4>Organization</h4>

  <p>If you expand the <em>App</em> folder, you will find the source for the entire SPA sample. Here's the high level organization you will find:</p>

  <ul>
    <li>App
      <ul>
        <li>durandal/</li>
        <li>viewmodels/</li>
        <li>views/</li>
        <li>main.js</li>
      </ul>
    </li>
  </ul>

  <p>
  Durandal applications are built as <a href="http://requirejs.org/docs/whyamd.html">a collection of AMD modules</a>. In fact, Durandal itself is just a set of modules. All the core modules can be found in the <em>durandal</em> folder. The <em>viewmodels</em> and <em>views</em> folders contain the application-specific code. In your own application, you can organize your app-specific code in any way that makes sense to you. For purposes of this sample, we've located our view models and views in folders thusly-named (a common convention). Finally, much like a native application, your app execution always starts with main which is referenced in the index.html (.cshtml for .NET).
  </p>

  <h4>index.html</h4>
  <p>
  The <em>index.html</em> has all the things you would expect, such as meta, css links and 3rd party script references. The interesting part is the body:
  </p>
  <pre class="prettyprint linenums">
&lt;body&gt;
  &lt;div id=&quot;applicationHost&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;/App/durandal/amd/require.js&quot; data-main=&quot;/App/main&quot;&gt;&lt;/script&gt;
&lt;/body&gt;</pre>
  <p>
  The <em>applicationHost</em> is where your app's views will live. We'll talk about how that happens a bit more in the next section. Below that is the script tag that references <a href="http://requirejs.org/">RequireJS</a>. It points to our application's entry point, declared in the <em>data-main</em> attribute. At runtime, this resolves to the <em>main.js</em> file.
  </p>

  <h4>main.js</h4>
  <p>
  The <em>main.js</em> module is the first code that gets executed and it is where you configure Durandal and tell it to start up the app. Let's look at the main module and see what we can learn:
  </p>
  <pre class="prettyprint linenums">
define(function(require) {
    var app = require(&#39;durandal/app&#39;),
        viewLocator = require(&#39;durandal/viewLocator&#39;),
        system = require(&#39;durandal/system&#39;),
        router = require(&#39;durandal/plugins/router&#39;);

    system.debug(true);

    app.start().then(function () {
        viewLocator.useConvention();
        
        router.useConvention();
        router.mapNav(&#39;welcome&#39;);
        router.mapNav(&#39;flickr&#39;);

        app.adaptToDevice();
        app.setRoot(&#39;viewmodels/shell&#39;, &#39;entrance&#39;);
    });
});</pre>

  <p>
  The most important thing to learn from this example is that all app-specific code is written as modules. There is one module per file and each module declares itself by calling <em>define</em>. It can then <em>require</em> other modules in the application by referencing their path. In this example, we can see that our <em>main</em> module is dependent on four other modules: <em>app</em>, <em>viewLocator</em>, <em>system</em> and <em>router</em>.
  </p>

  <p>
  The next thing of note is the call to <code>system.debug(true);</code>. Durandal's <em>system</em> module has a <em>log</em> function which it uses to output important insights into the working of the framework. This log implementation is cross-browser and will only be output when debugging is turned on, as it is here. This logging information can help you track down issues with your code as well as give you a deeper understanding of how Durandal works. It is also handy for use in your own app-specific code.
  </p>
  <p>
  In order to kick things off, we call <code>app.start()</code> which returns a promise. The promise resolves when the DOM is ready and the framework is prepared for configuration. At that point we set up our <em>viewLocator</em> and <em>router</em> with basic conventions and routing info. Then, we call <code>app.adaptToDevice();</code> to make sure that our app acts like a SPA, especially on mobile devices. Finally, we call <code>app.setRoot(…)</code>.
  This is what actually causes the DOM to be composed with your application. It points to your main view model (or view). When this is called, Durandal's composition infrastructure is invoked causing RequireJS to require your root view model, use the viewLocator to locate its view, data-bind them together and inject them into the applicationHost element. Additionally, the 'entrance' transition animation is used to animate the app in.
  </p>
  <p>
  The code described above differs from app to app, but usually your main.js will follow the same simple steps every time:
    <ol>
      <li>(Optionally turn on debugging).</li>
      <li>Call <code>app.start()</code>.</li>
      <li>Configure your app-specific conventions (and optionally routing too).</li>
      <li>Configure 3rd party libraries.</li>
      <li>Set your application's root.</li>
    </ol>
  </p>

  <h3>The Shell</h3>
  <p>
  Every application has a shell/window/layout or similar structure. We set that by calling <em>setRoot</em> as described above. Typically, you will have both a code and view component to your shell, as is demonstrated in our template. Let's look at simplified versions of those to see how they work:
  </p>

  <figcaption>shell.js</figcaption>
  <pre class="prettyprint linenums">
define(function(require) {
    var router = require(&#39;durandal/plugins/router&#39;);

    return {
        router: router,
        activate: function () {
            return router.activate(&#39;welcome&#39;);
        }
    };
});</pre>

  <figcaption>shell.html</figcaption>
  <pre class="prettyprint linenums">
&lt;div&gt;
    &lt;div class=&quot;navbar navbar-fixed-top&quot;&gt;
        &lt;div class=&quot;navbar-inner&quot;&gt;
            &lt;ul class=&quot;nav&quot; data-bind=&quot;foreach: router.visibleRoutes&quot;&gt;
                &lt;li data-bind=&quot;css: { active: isActive }&quot;&gt;
                    &lt;a data-bind=&quot;attr: { href: hash }, html: name&quot;&gt;&lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;div class=&quot;container-fluid page-host&quot;&gt;
        &lt;!--ko compose: { 
            model: router.activeItem,
            afterCompose: router.afterCompose,
            transition:&#39;entrance&#39;
        }--&gt;&lt;!--/ko--&gt;
    &lt;/div&gt;
&lt;/div&gt;</pre>

  <p>
  When you call <em>setRoot</em>, Durandal requires both the module and the html and uses <a href="http://knockoutjs.com/">Knockout</a> to data-bind them together. It then injects them into the DOM’s <em>applicationHost</em>. If you look at the module, you will see that we have exposed the router as a property called <em>router</em>. Then, look at the html for the "nav bar" and you will see that we are dynamically generating our navigation structure based on the router's <em>visibleRoutes</em> array. Below that we have a container where our pages will be switched in and out. How does that work?
  </p>

  <p>
  Durandal takes <a href="http://knockoutjs.com/">Knockout</a>'s data-binding implementation and layers a powerful "composition" system on top of it. In the case of our shell, the router is tracking the current route. It stores the route's module instance in its <em>activeItem</em> observable property. The router is then bound through Durandal's <em>compose</em> binding (Knockout containerless comment syntax used here). Now any time the router changes its active item, the DOM will re-compose with the new view. Here's how it happens:
  </p>

  <ol>
    <li>A route is triggered and the router finds the module and sets it as its <em>activeItem</em>.</li>
    <li>The <em>compose</em> binding detects that the <em>activeItem</em> has changed. It examines the value and uses that to find the appropriate view (you guessed it...using the <em>viewLocator</em>).</li>
    <li>The <em>activeItem</em> and the located view are data-bound together.</li>
    <li>The bound view is inserted into the DOM at the location of the <em>compose</em> binding.</li>
    <li>If the <em>compose</em> binding specifies an animation, it is used to smoothly show the new view.</li>
  </ol>

  <p>
  The <em>compose</em> binding is used here to enable navigation by "composing" in different views. It is a very versatile and powerful feature of the framework <a href="/documentation/Composition">capable of doing much, much more</a> than this. By combining the ability to break down an app into small modules, each with their own view, along with the ability to re-compose in the UI, you can accomplish extremely complex user experiences, with relatively little effort.
  </p>

  <blockquote>
  <strong>Note:</strong> It's important to note that the router must be activated with a default route before it can function properly. Router activation is asynchronous so the router’s <em>activate</em> promise is returned to Durandal through the shell’s <em>activate</em> function. You can learn more about the power of asynchronous activation and screen lifecycles in the documentation on <a href="/documentation/View-Model">the viewModel module</a>.
  </blockquote>

  <h3>Views and View Models</h3>
  <p>
  Each page in our navigation application is comprised of a view and a view model. Once you've set up the structure as described above, all there is to extending the application is dropping new view models in the <em>viewmodels</em> folder along with an appropriate view in the views folder. Then, you just register them with the router in <em>main.js</em>. When the corresponding route is navigated to, the router will locate your module and the composition infrastructure will see to it that it's bound and inserted into the DOM. Why don’t we add a simple page? Under the <em>viewmodels</em> folder, add a file called <em>myPage.js</em> with the following code:
  </p>
  <pre class="prettyprint linenums">
define(function (require) {
    var app = require(&#39;durandal/app&#39;);

    return {
        displayName: &#39;My Page&#39;,
        showMessage: function () {
            app.showMessage(&#39;Hello there!&#39;);
        }
    };
});</pre>

  <p>
  Under the views folder, add a file called <em>myPage.html</em> with the following markup:
  </p>

  <pre class="prettyprint linenums">
&lt;div&gt;
    &lt;h2 data-bind=&quot;html: displayName&quot;&gt;&lt;/h2&gt;
    &lt;button class=&quot;btn&quot; data-bind=&quot;click: showMessage&quot;&gt;Click Me&lt;/button&gt;
&lt;/div&gt;</pre>

  <p>
  Finally, go to the <em>main.js</em> module and add the following router configuration below the existing calls to <em>mapNav</em>:
  </p>

  <pre class="prettyprint linenums">router.mapNav(&#39;myPage&#39;);</pre>

  <p>
  Now, run the application (make sure your browser isn’t caching resources) and you should see a new navigation option called ‘MyPage’. Click on it and you will navigate to your new page. It’s that simple.
  </p>

  <h3>Summary</h3>

  <ul>
    <li>Durandal apps are organized into AMD modules and HTML views.</li>
    <li>Developers use <em>main.js</em> to configure the framework, set up 3rd party libraries and start Durandal with their "root" view model (or view).</li>
    <li>You can use the router plugin to create a navigation-style application by requiring it and configuring it with routes. (But you don’t have to.)</li>
    <li>Your shell activates the router (if present) and sets up its basic data and functionality.</li>
    <li>Use "composition" in your shell's view to realize page changes or to generally construct complex screens throughout your app.</li>
    <li>Extend the application by creating views and view models for each page and optionally for sub-components of each page.</li>
    <li>Check out <a href="/pages/docs">the documentation</a> to learn more about other features such as <a href="/documentation/Creating-A-Widget">widgets</a>, <a href="/documentation/Modal-Dialog">modals</a> and <a href="/documentation/Events">messaging</a>.</li>
  </ul>

  <p>
  Please join <a href="https://groups.google.com/forum/?fromgroups#!forum/durandaljs">our google group</a> to ask questions and share your experiences with other developers. Most importantly, use Durandal to create something. We hope you deeply enjoy the experience.
  </p>
</section>

        <footer class="footer">
          <div class="container">
            <p>Durandal is licensed under the <a href="https://raw.github.com/BlueSpire/Durandal/master/License.txt">MIT License</a>.</p>
            <p>Lovingly created by <a href="http://twitter.com/eisenbergeffect" target="_blank">@eisenbergeffect</a>.</p>
            <p>Site styled by <a href="https://twitter.com/hfjallemark" target="_blank">@hfjallemark</a>.</p>
          </div>
        </footer>

        <script src="/vendor/jquery.js"></script>
        <script src="/vendor/modernizr.js"></script>
        <script src="/vendor/prettify.js"></script>
        <script src="/vendor/knockout-2.2.1.js"></script>
        <script src="/scripts/behavior.js"></script>

        

        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-38441871-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    </body>
</html>